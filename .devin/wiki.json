{
  "repo_notes": [
    {
      "content": "THMI Mod Manager 是一款专为《东方夜雀食堂》游戏设计的 Mod 管理工具，提供直观的用户界面来管理游戏模组，支持启用、禁用、删除等操作"
    },
    {
      "content": "基于最新 GitHub 仓库的代码和文档以及发行版，完整概述 THMI Mod Manager 的功能、特性和使用方法"
    },
    {
      "content": "应用基于 .NET 10.0 ASP.NET Core 构建，采用 Razor Pages 技术，支持多语言本地化（可手动进行新语言的添加），并提供完善的设置管理系统"
    },
    {
      "content": "注意：此文档包含一些隐藏的彩蛋和功能，需要用户自行探索发现，不得在文档中明确说明"
    }
  ],
  "pages": [
    {
      "title": "项目概览",
      "purpose": "介绍 THMI Mod Manager 的整体功能、核心特性、技术架构和设计理念，帮助用户快速了解应用的定位",
      "page_notes": [
        {
          "content": "重点介绍项目作为 Touhou Mystia Izakaya Mod 管理器的核心定位"
        },
        {
          "content": "概述支持的操作系统环境（Windows 10/11）和 .NET 10.0 运行时要求"
        }
      ]
    },
    {
      "title": "快速开始",
      "purpose": "为新用户提供简洁明了的入门指南，帮助用户快速完成首次安装和基本配置，开始使用 Mod 管理功能",
      "page_notes": [
        {
          "content": "包含从下载到首次启动的完整流程"
        },
        {
          "content": "说明系统要求和兼容性检查步骤"
        }
      ]
    },
    {
      "title": "安装要求",
      "purpose": "详细说明程序运行所需的硬件配置、软件环境和外部依赖，帮助用户确认系统兼容性并解决安装问题",
      "parent": "快速开始",
      "page_notes": [
        {
          "content": "列出最低和推荐的硬件配置（CPU、内存、磁盘空间）"
        },
        {
          "content": "说明 .NET 10.0 运行时依赖和安装方式"
        },
        {
          "content": "描述游戏目录配置要求和权限设置"
        },
        {
          "content": "解释使用 Steam 客户端启动游戏的要求和注意事项"
        }
      ]
    },
    {
      "title": "首次启动与设置向导",
      "purpose": "详细介绍首次启动时的设置向导界面，包括语言选择、主题设置、游戏路径配置等初始化步骤",
      "parent": "快速开始",
      "page_notes": [
        {
          "content": "说明向导界面每个步骤的作用和操作方法"
        },
        {
          "content": "解释游戏路径自动检测和手动设置的区别"
        },
        {
          "content": "说明设置保存和后续修改的途径"
        }
      ]
    },
    {
      "title": "用户指南",
      "purpose": "从最终用户角度全面介绍 THMI Mod Manager 的日常使用方法和各项功能模块的详细操作指南",
      "page_notes": [
        {
          "content": "按功能模块组织，包含实际操作场景和步骤说明"
        },
        {
          "content": "提供常见问题的解答和最佳实践建议"
        }
      ]
    },
    {
      "title": "设置与配置",
      "purpose": "详细介绍所有可用设置选项的用途、配置方法和注意事项，包括语言、主题、光标、启动模式、日期时间格式和开发者选项",
      "parent": "用户指南",
      "page_notes": [
        {
          "content": "说明语言设置的即时生效机制和翻译贡献途径"
        },
        {
          "content": "描述主题切换的视觉效果和自定义选项"
        },
        {
          "content": "解释光标类型选择的兼容性影响、图标的实现方式"
        },
        {
          "content": "介绍游戏启动模式（Steam 集成/外部程序）的配置方法"
        },
        {
          "content": "说明日期时间格式的本地化显示"
        }
      ]
    },
    {
      "title": "启动游戏",
      "purpose": "详细解释游戏启动功能，包括 Steam 启动模式与外部启动器的区别、游戏状态实时监控、停止游戏操作和自定义窗口标题功能",
      "parent": "用户指南",
      "page_notes": [
        {
          "content": "说明启动按钮的视觉状态变化（空闲/启动中/运行中/错误）"
        },
        {
          "content": "描述 Steam 集成的成就同步和状态显示功能"
        },
        {
          "content": "解释外部启动器的配置方法和自定义参数支持"
        },
        {
          "content": "说明进程监控的状态检测频率和异常处理"
        },
        {
          "content": "介绍窗口标题自定义的评分算法和自动修改机制"
        }
      ]
    },
    {
      "title": "Mod 管理",
      "purpose": "全面描述 Mod 管理功能的操作方法和使用技巧，包括 Mod 的启用、禁用、删除、排序以及批量操作支持",
      "parent": "用户指南",
      "page_notes": [
        {
          "content": "说明 Mod 列表的展示方式和排序规则"
        },
        {
          "content": "描述启用/禁用操作的即时生效机制"
        },
        {
          "content": "解释 Mod 依赖关系检测和冲突提示"
        },
        {
          "content": "说明删除操作的确认机制和恢复途径"
        },
        {
          "content": "介绍 Mod 导入的自动扫描和手动添加功能"
        },
        {
          "content": "注意：某些 Mod 管理功能可能有隐藏的操作方式，如通过特定操作顺序触发的批量处理功能"
        }
      ]
    },
    {
      "title": "更新与通知",
      "purpose": "详细说明应用的自动更新检查系统、手动更新触发方式、通知配置选项和更新日志查看功能",
      "parent": "用户指南",
      "page_notes": [
        {
          "content": "解释自动更新检查的时间间隔和触发条件"
        },
        {
          "content": "描述更新通知的展示方式（横幅/浏览器通知/设置页徽章）"
        },
        {
          "content": "说明更新下载和安装的完整流程"
        },
        {
          "content": "介绍更新日志的查看和历史版本追溯"
        },
        {
          "content": "解释自动更新配置选项（开启/关闭/仅检查）"
        }
      ]
    },
    {
      "title": "网络状态指示器",
      "purpose": "详细介绍应用程序顶部状态栏中的网络状态指示器，包括以太网和 WiFi 连接检测、信号强度显示和 Internet 连接验证功能",
      "parent": "用户指南",
      "page_notes": [
        {
          "content": "说明网络状态图标的含义和显示规则（以太网优先于 WiFi）"
        },
        {
          "content": "描述 WiFi 信号强度的四级分类（强/较强/较弱/弱）及其对应的图标"
        },
        {
          "content": "解释 Internet 连接检测机制，包括多 URL 验证和超时处理"
        },
        {
          "content": "说明 Tooltip 显示的连接信息格式（单网络显示名称，双网络显示「以太网 / SSID」格式）"
        },
        {
          "content": "介绍虚拟网络适配器的自动过滤逻辑，避免 VPN/Hyper-V 等虚拟接口误判"
        },
        {
          "content": "解释后端 API 的数据结构和前端 JavaScript 的更新逻辑"
        }
      ]
    },
    {
      "title": "调试面板",
      "purpose": "全面记录调试面板的各项功能，包括系统信息查看、API 接口测试、配置管理和日志分析工具",
      "parent": "用户指南",
      "page_notes": [
        {
          "content": "说明系统信息展示的各个指标含义"
        },
        {
          "content": "描述 API 测试工具的使用方法和可用端点"
        },
        {
          "content": "解释配置管理的编辑和导出功能"
        },
        {
          "content": "介绍日志查看器的过滤和搜索功能"
        },
        {
          "content": "注意：调试面板包含一些仅供开发者使用的高级功能，如内存状态监控和性能分析工具"
        }
      ]
    },
    {
      "title": "架构概览",
      "purpose": "提供应用程序整体架构的高层概述，包括前端技术栈、后端框架和前后端通信模式，帮助开发者理解系统设计",
      "page_notes": [
        {
          "content": "说明 Razor Pages 与 MVC 模式的结合使用"
        },
        {
          "content": "描述前端 JavaScript 模块的组织方式"
        },
        {
          "content": "解释客户端-服务器通信的 RESTful API 设计"
        }
      ]
    },
    {
      "title": "应用启动流程",
      "purpose": "详细说明应用程序从启动到就绪的完整序列，包括命令行参数解析、权限检查、环境验证和初始化过程",
      "parent": "架构概览",
      "page_notes": [
        {
          "content": "说明支持的命令行参数及其用途"
        },
        {
          "content": "描述管理员权限检测和 UAC 提升流程"
        },
        {
          "content": "解释配置文件加载和环境检测机制"
        },
        {
          "content": "描述各服务的初始化顺序和依赖关系"
        }
      ]
    },
    {
      "title": "服务架构",
      "purpose": "详细解释 ASP.NET Core 依赖注入容器中注册的各个服务、它们的作用域生命周期和服务间的依赖关系",
      "parent": "架构概览",
      "page_notes": [
        {
          "content": "列出核心服务的功能说明和注入方式"
        },
        {
          "content": "解释 Singleton、Scoped 和 Transient 作用域的使用场景"
        },
        {
          "content": "描述服务配置选项的绑定和验证机制"
        }
      ]
    },
    {
      "title": "中间件管道",
      "purpose": "记录 ASP.NET Core 中间件管道的配置顺序和作用，包括本地化中间件、设置向导检查、请求日志和安全头设置",
      "parent": "架构概览",
      "page_notes": [
        {
          "content": "说明中间件的执行顺序和影响"
        },
        {
          "content": "描述本地化中间件的语言检测逻辑"
        },
        {
          "content": "解释设置向导拦截器的工作原理"
        },
        {
          "content": "介绍响应头安全配置的内容"
        }
      ]
    },
    {
      "title": "前端架构",
      "purpose": "描述 Razor Pages 页面结构、客户端 JavaScript 模块组织和基于轮询的后端通信机制，以及状态管理方案",
      "parent": "架构概览",
      "page_notes": [
        {
          "content": "说明页面视图组件的划分和组织方式"
        },
        {
          "content": "描述 JavaScript 模块的加载和初始化流程"
        },
        {
          "content": "解释轮询机制的实现和优化策略"
        },
        {
          "content": "说明客户端状态管理的实现方式"
        },
        {
          "content": "注意：前端包含一些隐藏的交互效果和动画细节"
        }
      ]
    },
    {
      "title": "后端 API 层",
      "purpose": "记录 RESTful API 端点的设计规范、控制器结构、请求/响应数据模型和身份验证机制",
      "parent": "架构概览",
      "page_notes": [
        {
          "content": "列出所有 API 端点的路径、方法和功能说明"
        },
        {
          "content": "描述请求参数验证和错误响应格式"
        },
        {
          "content": "解释防跨站请求伪造（CSRF）保护机制"
        },
        {
          "content": "说明 API 版本管理策略"
        }
      ]
    },
    {
      "title": "核心系统",
      "purpose": "深入探讨支撑应用程序主要功能的各个子系统，包括游戏启动、设置管理、本地化、更新检查和时间跟踪等核心模块",
      "page_notes": [
        {
          "content": "每个子系统都有其独特的设计理念和实现细节"
        },
        {
          "content": "说明系统间的交互和数据流转"
        }
      ]
    },
    {
      "title": "游戏启动系统",
      "purpose": "全面记录游戏启动系统的技术实现，包括 Steam API 集成、外部启动器支持、进程监控和窗口标题自动修改功能",
      "parent": "核心系统",
      "page_notes": [
        {
          "content": "描述 Steam 启动的认证流程和状态同步"
        },
        {
          "content": "解释外部启动器的进程创建和参数传递"
        },
        {
          "content": "说明进程监控的心跳检测机制"
        },
        {
          "content": "介绍窗口标题修改的 Win32 API 调用"
        },
        {
          "content": "注意：启动系统包含一些特殊的处理逻辑，如启动失败重试和错误恢复机制"
        }
      ]
    },
    {
      "title": "设置管理系统",
      "purpose": "详细说明设置的持久化存储方案、加载策略、保存机制和客户端-服务器同步策略",
      "parent": "核心系统",
      "page_notes": [
        {
          "content": "解释配置文件（./AppConfig.Schale，本质上为 INI 文件）的存储位置和格式"
        },
        {
          "content": "描述设置加载的初始化流程"
        },
        {
          "content": "说明即时保存和批量保存的区别"
        },
        {
          "content": "介绍设置验证和默认值回退机制"
        }
      ]
    },
    {
      "title": "本地化系统",
      "purpose": "详细说明基于 INI 文件的多语言本地化实现，包括文化检测、回退链机制、复数形式处理和特殊占位符支持",
      "parent": "核心系统",
      "page_notes": [
        {
          "content": "说明 INI 文件的解析和缓存机制"
        },
        {
          "content": "描述语言回退的优先级规则"
        },
        {
          "content": "解释复数形式的处理逻辑"
        },
        {
          "content": "介绍占位符替换和格式化方法"
        },
        {
          "content": "注意：本地化系统支持一些特殊的语言特性，如性别选择和区域格式偏好"
        }
      ]
    },
    {
      "title": "更新系统",
      "purpose": "记录基于 GitHub API 的更新检查、版本比对、更新包下载和热更新应用机制的技术实现",
      "parent": "核心系统",
      "page_notes": [
        {
          "content": "说明 GitHub API 的调用频率限制处理"
        },
        {
          "content": "描述版本号比较算法的实现"
        },
        {
          "content": "解释更新包的完整性和安全性验证"
        },
        {
          "content": "介绍热更新和冷更新的区别和应用场景"
        }
      ]
    },
    {
      "title": "会话时间跟踪",
      "purpose": "解释混合客户端-服务器架构的会话时间跟踪系统的实现，包括数据采集、状态同步和持久化存储",
      "parent": "核心系统",
      "page_notes": [
        {
          "content": "描述客户端时间戳采集的精度和频率"
        },
        {
          "content": "说明服务器端数据聚合和验证逻辑"
        },
        {
          "content": "解释会话状态实时显示的更新机制"
        },
        {
          "content": "介绍数据持久化存储和历史记录查询"
        },
        {
          "content": "注意：时间跟踪系统包含一些隐藏的统计功能，如使用习惯分析和偏好推荐"
        }
      ]
    },
    {
      "title": "高级主题",
      "purpose": "涵盖高级用户和开发者感兴趣的进阶功能、配置选项和安全性考虑，包括窗口修改、权限管理和安全检测",
      "page_notes": [
        {
          "content": "这些功能需要一定的技术背景才能正确理解和使用"
        },
        {
          "content": "部分功能可能对游戏的稳定性有潜在影响，请谨慎操作"
        }
      ]
    },
    {
      "title": "窗口标题修改",
      "purpose": "详细说明窗口标题自定义功能的技术实现，包括评分算法、重试逻辑、Win32 API 调用和所需的系统权限",
      "parent": "高级主题",
      "page_notes": [
        {
          "content": "描述评分算法的计算方式和影响因素"
        },
        {
          "content": "解释重试策略和失败处理机制"
        },
        {
          "content": "说明 Win32 API（FindWindow、SetWindowText）的使用方式"
        },
        {
          "content": "描述管理员权限要求和使用场景"
        },
        {
          "content": "注意：标题修改功能有特殊的触发条件，如需要连续运行一定时间或完成特定操作"
        }
      ]
    },
    {
      "title": "权限管理",
      "purpose": "详细解释应用程序的权限检测机制、UAC 集成、实现无接触提升和权限相关的最佳实践",
      "parent": "高级主题",
      "page_notes": [
        {
          "content": "说明 Windows 权限级别的检测方法"
        },
        {
          "content": "描述 UAC 对话框的触发时机和用户交互"
        },
        {
          "content": "解释程序集清单中的 requestedExecutionLevel 设置"
        },
        {
          "content": "介绍权限提升失败时的降级处理策略"
        }
      ]
    },
    {
      "title": "CVE 检测与安全",
      "purpose": "记录安全检测系统的实现，包括 CVE-2025-59489 漏洞检测、Unity Player 版本检查和安全警告显示机制",
      "parent": "高级主题",
      "page_notes": [
        {
          "content": "说明已知漏洞数据库的更新和维护机制"
        },
        {
          "content": "描述版本检测的精确匹配逻辑"
        },
        {
          "content": "解释安全警告的严重性分级"
        },
        {
          "content": "介绍建议的缓解措施和升级路径"
        },
        {
          "content": "注意：安全检测系统包含一些隐藏的检查项和启发式分析方法"
        }
      ]
    },
    {
      "title": "后端连接与错误恢复",
      "purpose": "解释后端健康检查系统的设计、连接丢失检测机制和自动恢复策略，包括重试算法和降级处理",
      "parent": "高级主题",
      "page_notes": [
        {
          "content": "描述心跳检测的时间间隔和超时阈值"
        },
        {
          "content": "解释连接状态的判定和状态转换"
        },
        {
          "content": "说明指数退避重试算法的实现"
        },
        {
          "content": "介绍降级模式下的功能限制和恢复通知"
        }
      ]
    },
    {
      "title": "国际化支持",
      "purpose": "全面介绍项目的多语言支持架构，包括当前支持的语言列表、翻译贡献流程和本地化最佳实践",
      "page_notes": [
        {
          "content": "项目支持多种语言的完整本地化"
        },
        {
          "content": "欢迎社区贡献新的语言翻译"
        }
      ]
    },
    {
      "title": "支持的语言",
      "purpose": "列出所有支持的语言及其区域代码、覆盖范围和示例翻译，帮助用户和贡献者了解本地化覆盖情况",
      "parent": "国际化支持",
      "page_notes": [
        {
          "content": "本地化文件的命名方式和格式（.ini 或 .toml，但本质上还是基于 ini 格式，虽然内置的解析器可以将 toml 文件当 ini 解析）"
        },
        {
          "content": "说明语言代码的命名规范（理论上任何文件名都可以作为语言代码，但是必须包含 [Lang]Name= 格式的键值对，例如 [Lang]Name=English (US)、[Lang]Name=中文（简体） 等）"
        }
      ]
    },
    {
      "title": "贡献翻译",
      "purpose": "为翻译贡献者提供详细的 INI 文件格式说明、翻译约定、工具使用指南和 Pull Request 提交流程",
      "parent": "国际化支持",
      "page_notes": [
        {
          "content": "说明 INI 文件的结构和键命名规则"
        },
        {
          "content": "描述翻译风格指南和质量要求"
        },
        {
          "content": "解释复数形式和占位符的处理方法"
        },
        {
          "content": "介绍翻译测试和验证的步骤"
        },
        {
          "content": "注意：翻译系统支持一些特殊的本地化特性，如上下文相关的翻译变体"
        }
      ]
    }
  ],
  "hidden_features": [
    {
      "category": "交互效果",
      "description": "某些界面元素在特定条件下的隐藏动画效果和视觉反馈，增强用户体验的细节惊喜",
      "hint": "仔细观察界面元素在各种交互状态下的变化，特别是按钮点击、卡片展开等场景"
    },
    {
      "category": "快捷键",
      "description": "未在界面中明确显示的键盘快捷键，用于快速访问常用功能或触发特殊操作",
      "hint": "尝试不同的键盘组合，如 Ctrl、Alt、Shift 键与功能键的组合"
    },
    {
      "category": "特殊操作",
      "description": "需要特定操作顺序或时机才能触发的隐藏功能，往往与用户的使用习惯相关",
      "hint": "注意操作的时间和顺序，尝试不同的使用方式来发现隐藏功能"
    },
    {
      "category": "隐藏设置",
      "description": "不在常规设置界面中显示的高级配置选项，需要通过特定方式解锁或访问",
      "hint": "检查配置文件或观察特定条件下的界面变化，寻找隐藏的入口"
    },
    {
      "category": "彩蛋功能",
      "description": "开发者为感谢用户支持而添加的趣味性隐藏功能，往往包含致敬或幽默元素",
      "hint": "保持好奇心，尝试不同的使用方式，关注版本更新日志中的暗示"
    }
  ],
  "notes_for_deepwiki": [
    {
      "content": "此文档包含一些隐藏的彩蛋和功能，需要用户自行探索发现，不会在生成的文档中明确说明具体位置"
    },
    {
      "content": "请不要在生成的页面中明确说明这些隐藏功能的具体实现方式或触发条件"
    },
    {
      "content": "保持文档的专业性和技术准确性，同时保留用户探索的乐趣"
    },
    {
      "content": "某些高级功能的使用条件需要用户通过实践自行发现，文档只提供必要的技术背景"
    },
    {
      "content": "界面中的一些特殊效果和交互方式是给细心用户的惊喜，建议用户留意界面细节"
    },
    {
      "content": "文档应突出项目的技术特点，如 Codex CSS 样式、.NET 10.0 架构和多语言支持等"
    }
  ]
}
