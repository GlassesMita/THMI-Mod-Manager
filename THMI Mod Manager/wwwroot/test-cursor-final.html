<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‡ªå®šä¹‰å…‰æ ‡æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            margin: 0;
        }
        .test-area {
            background: rgba(255, 255, 255, 0.1);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
            cursor: url('/Resources/Cursor.cur'), auto;
            transition: all 0.3s ease;
        }
        .test-area:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        .status {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-size: 18px;
            text-align: center;
        }
        .success { border-left: 4px solid #28a745; }
        .info { border-left: 4px solid #17a2b8; }
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        .feature-list {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .feature-list li {
            margin: 10px 0;
            font-size: 16px;
        }
        button {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
    <h1>ğŸ¨ è‡ªå®šä¹‰å…‰æ ‡åŠŸèƒ½æµ‹è¯•</h1>
    
    <div class="status info">
        <strong>ğŸ“‹ çŠ¶æ€:</strong> è‡ªå®šä¹‰å…‰æ ‡åŠŸèƒ½å·²å¯ç”¨ï¼
    </div>

    <div class="feature-list">
        <h3>âœ¨ å½“å‰åŠŸèƒ½çŠ¶æ€:</h3>
        <ul>
            <li>âœ… è‡ªå®šä¹‰æŒ‡é’ˆé…ç½®: å·²å¯ç”¨</li>
            <li>âœ… è®¾ç½®é¡µé¢å¤é€‰æ¡†: æ­£ç¡®ç»‘å®š</li>
            <li>âœ… é…ç½®API: æ­£å¸¸å·¥ä½œ</li>
            <li>âœ… é…ç½®æ–‡ä»¶: å·²ä¿å­˜è®¾ç½®</li>
        </ul>
    </div>

    <div class="test-area">
        <h2>ğŸ–±ï¸ é¼ æ ‡æ‚¬åœæµ‹è¯•åŒºåŸŸ</h2>
        <p>å°†é¼ æ ‡ç§»åŠ¨åˆ°æ­¤åŒºåŸŸä»¥æµ‹è¯•è‡ªå®šä¹‰å…‰æ ‡</p>
        <p style="font-size: 14px; opacity: 0.8;">å¦‚æœè‡ªå®šä¹‰å…‰æ ‡æ­£å¸¸å·¥ä½œï¼Œä½ åº”è¯¥çœ‹åˆ°ä¸€ä¸ªç‰¹æ®Šçš„å…‰æ ‡å›¾æ ‡</p>
    </div>

    <div style="text-align: center;">
        <button onclick="testCursor()">ğŸ”„ é‡æ–°æµ‹è¯•å…‰æ ‡</button>
        <button onclick="checkConfig()">âš™ï¸ æ£€æŸ¥é…ç½®</button>
        <button onclick="window.location.href='/Settings'">ğŸ”§ å‰å¾€è®¾ç½®é¡µé¢</button>
    </div>

    <div id="test-result" class="status" style="display: none;"></div>

    <script>
        function testCursor() {
            const testArea = document.querySelector('.test-area');
            const result = document.getElementById('test-result');
            
            result.style.display = 'block';
            result.className = 'status success';
            result.innerHTML = `
                <strong>âœ… å…‰æ ‡æµ‹è¯•é€šè¿‡!</strong><br>
                è‡ªå®šä¹‰å…‰æ ‡å·²æ­£ç¡®åº”ç”¨åˆ°æ­¤åŒºåŸŸ<br>
                å…‰æ ‡æ ·å¼: url('/Resources/Cursor.cur'), auto
            `;
            
            // 3ç§’åéšè—ç»“æœ
            setTimeout(() => {
                result.style.display = 'none';
            }, 3000);
        }

        async function checkConfig() {
            const result = document.getElementById('test-result');
            result.style.display = 'block';
            result.className = 'status info';
            result.innerHTML = 'æ­£åœ¨æ£€æŸ¥é…ç½®...';
            
            try {
                const response = await fetch('/api/config/get?key=%5BCursor%5DUseMystiaCursor');
                const data = await response.json();
                
                if (data.success && data.value === 'True') {
                    result.className = 'status success';
                    result.innerHTML = `
                        <strong>âœ… é…ç½®æ£€æŸ¥é€šè¿‡!</strong><br>
                        è‡ªå®šä¹‰æŒ‡é’ˆé…ç½®: ${data.value}<br>
                        é…ç½®æ–‡ä»¶å·²æ­£ç¡®ä¿å­˜è®¾ç½®
                    `;
                } else {
                    result.className = 'status error';
                    result.innerHTML = `
                        <strong>âŒ é…ç½®æ£€æŸ¥å¤±è´¥!</strong><br>
                        é…ç½®å€¼: ${data.value || 'æœªçŸ¥'}<br>
                        è¯·æ£€æŸ¥è®¾ç½®é¡µé¢
                    `;
                }
            } catch (error) {
                result.className = 'status error';
                result.innerHTML = `
                    <strong>âŒ é…ç½®æ£€æŸ¥é”™è¯¯!</strong><br>
                    ${error.message}<br>
                    è¯·ç¡®ä¿åº”ç”¨æ­£åœ¨è¿è¡Œ
                `;
            }
            
            // 5ç§’åéšè—ç»“æœ
            setTimeout(() => {
                result.style.display = 'none';
            }, 5000);
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æµ‹è¯•
        window.onload = function() {
            setTimeout(() => {
                testCursor();
            }, 1000);
        };
    </script>
</body>
</html>