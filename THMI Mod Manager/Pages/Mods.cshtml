@page
@model ModsModel
@inject THMI_Mod_Manager.Services.AppConfigManager AppConfig
@{
    ViewData["Title"] = AppConfig.GetLocalized("Mods:Title", "Mod 管理");
    var themeColor = AppConfig.Get("[App]ThemeColor", "#c670ff");
}

<input type="hidden" id="themeColorHidden" value="@themeColor" />

<div class="mods-container">
    <div class="mods-header">
        <h1 class="mods-title">@AppConfig.GetLocalized("Mods:Header", "Mod 管理")</h1>
        <div class="mods-actions">
            <button id="refreshModsButton" class="btn btn-outline-primary">
                <i class="bi bi-arrow-clockwise"></i>
                <span>@AppConfig.GetLocalized("Mods:Refresh", "刷新")</span>
            </button>
        </div>
    </div>
    
    <div class="mods-content">
        <div id="modsList" class="mods-list">
            <div class="text-center py-5">
                <div class="spinner-border" role="status">
                    <span class="visually-hidden">@AppConfig.GetLocalized("Mods:Loading", "加载中...")</span>
                </div>
            </div>
        </div>
        
        <div id="modsEmpty" class="mods-empty" style="display: none;">
            <div class="empty-icon">
                <i class="bi bi-box-seam"></i>
            </div>
            <h2>@AppConfig.GetLocalized("Mods:NoMods", "暂无 Mod")</h2>
            <p>@AppConfig.GetLocalized("Mods:NoModsDesc", "BepInEx/plugins 目录中没有找到任何 Mod 文件。")</p>
        </div>
        
        <div id="modsError" class="mods-error" style="display: none;">
            <div class="alert alert-danger" role="alert">
                <i class="bi bi-exclamation-triangle-fill"></i>
                <span id="modsErrorMessage">@AppConfig.GetLocalized("Mods:LoadError", "加载 Mod 时发生错误")</span>
            </div>
        </div>
    </div>
</div>

@section Styles {
    <link rel="stylesheet" href="~/css/mods.css" />
}

@section Scripts {
    <script src="~/js/mods.js"></script>
}
